<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="css.css">
    </head>
    <body>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li class="dropdown">
                <a href="#" class="dropbtn">Text</a>
                <div class="dropdown-content">
                    <a href="text1.html">Text 1</a>
                    <a href="text2.html">Text 2</a>
                    <a href="text3.html">Text 3</a>
                </div>
            </li>
            <li><a href="instructions.html">Instructions</a></li>
            <li><a href="settings.html" id="active">Settings</a></li>
        </ul>
        <div id="settings-box">
            <div id="content">
            <span id="buttonBox">
                    <button class="dark-button">dark mode</button>
                    <button class="light-button">light mode</button>
                </span>
                <br>
                <span id="font">
                <label>Fontsize </label> <input type="range" min="18" max="64" id="font-size" onchange="changeSize()" value="20" /><label id="font-value"></label></span>
                <br>
               <span id="colorpick"><label>Secondary color</label><input type="color" id="color-picker" value="#a889db" onchange="changeColor()"></span>
            </div>
        </div>


        <!--JS starts-->
        <script>
            
            const darkButton = document.querySelector(".dark-button");
            const lightButton = document.querySelector(".light-button");
            var navActive = document.getElementById("active");
            var color = document.getElementById("color-picker").value;


            

            const currentTheme = localStorage.getItem("theme");
            if (currentTheme == "dark"){
                document.body.classList.toggle("dark-theme");
            } else if (currentTheme == "light"){
                document.body.classList.toggle("light-theme");
            }

            //Light
            lightButton.addEventListener("click", function() {
                document.body.classList.add("light-theme");
                document.body.classList.remove("dark-theme");
                localStorage.setItem("theme", "light");
                console.log("light");
            });

            //Dark

            darkButton.addEventListener("click", function() {
                document.body.classList.add("dark-theme");
                document.body.classList.remove("light-theme");
                localStorage.setItem("theme", "dark");
                console.log("dark");
            });

            //font size
            function changeSize(){
                var slider = document.getElementById("font-size").value;
                localStorage.setItem("font", slider);
                console.log(slider);

                var valueBox = document.getElementById("font-value");
                valueBox.innerHTML = slider + "px";
            }

            //secondary color
            function changeColor(){
                var color = document.getElementById("color-picker").value;

                localStorage.setItem("color", color);

                console.log(color);

                navActive.style.backgroundColor = color;
                document.getElementById("settings-box").style.borderColor = color;

            }



            var getColor = localStorage.getItem("color");

                navActive.style.backgroundColor = getColor;
                document.getElementById("settings-box").style.borderColor = getColor;

            
        </script>
    </body>
</html>